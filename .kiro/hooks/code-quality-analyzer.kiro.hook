{
  "enabled": true,
  "name": "Code Quality Analyzer",
  "description": "Monitors source code files for changes and analyzes them for potential improvements including code smells, design patterns, best practices, readability, maintainability, and performance optimizations",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "packages/frontend/src/**/*.ts",
      "packages/frontend/src/**/*.tsx",
      "packages/server/src/**/*.ts",
      "packages/types/src/**/*.ts"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Analyze the modified code files for potential improvements. Focus on:\n\n1. **Code Smells**: Identify any code smells such as duplicated code, long functions, large classes, excessive parameters, or inappropriate coupling\n2. **Design Patterns**: Suggest applicable design patterns that could improve the code structure\n3. **Best Practices**: Check adherence to TypeScript/React/Bun best practices based on the tech stack\n4. **Readability**: Evaluate variable naming, function clarity, and code organization\n5. **Maintainability**: Assess modularity, separation of concerns, and code reusability\n6. **Performance**: Identify potential performance bottlenecks or optimization opportunities\n\nProvide specific, actionable suggestions while maintaining existing functionality. Do not suggest unnecessary compatibility code. Consider the monorepo structure and existing patterns in the codebase (React Context, LangChain tools, WebSocket communication, Zod validation)."
  }
}